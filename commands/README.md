# Commands（スラッシュコマンド）

`/`で始まるカスタムスラッシュコマンドの定義を格納するディレクトリ。

## 概要

Commandsは、短いプロンプトやワークフローを`/command-name`の形式で呼び出せるようにする機能です。頻繁に使用する指示をショートカット化できます。

## スラッシュコマンドとは

スラッシュコマンドは、定型的なプロンプトをマークダウンファイルとして保存し、簡単に呼び出せるようにする機能です。

### 基本的な使い方

1. `.claude/commands/`に`command-name.md`を配置
2. Claude Codeセッションで`/command-name`と入力
3. ファイルの内容がプロンプトとして展開される

## コマンドファイルの構造

### シンプルなコマンド

```markdown
プロジェクトのコードベース全体をレビューして、改善点を提案してください。

以下の観点で分析：
- コード品質
- パフォーマンス
- セキュリティ
- 保守性
```

保存先: `review.md`
呼び出し: `/review`

### パラメータ付きコマンド

```markdown
プルリクエスト #{1} をレビューしてください。

以下を確認：
- コード品質
- テストの網羅性
- ドキュメントの更新
- 破壊的変更の有無

レビューコメントを Markdown 形式で提供してください。
```

保存先: `review-pr.md`
呼び出し: `/review-pr 123`
`{1}`が`123`に置換される

### 複数パラメータ

```markdown
{1} ブランチから {2} ブランチへのマージ準備を行ってください。

チェック項目：
- コンフリクトの有無
- テストの通過状況
- マイグレーションの確認
```

保存先: `merge-prep.md`
呼び出し: `/merge-prep feature/login main`

## コマンドの種類（例）

### コードレビュー系

#### `/review`
プロジェクト全体のコードレビュー

#### `/review-pr [PR番号]`
特定のプルリクエストをレビュー

#### `/security-check`
セキュリティ脆弱性のチェック

### Git操作系

#### `/commit`
適切なコミットメッセージを生成

#### `/pr-description`
プルリクエストの説明文を生成

#### `/changelog`
CHANGELOGを更新

### テスト系

#### `/test-plan [機能名]`
機能のテスト計画を作成

#### `/write-tests [ファイルパス]`
指定ファイルのテストを作成

### ドキュメント系

#### `/doc-api`
API仕様書を生成

#### `/readme`
READMEを更新

#### `/doc-function [関数名]`
関数のドキュメントを生成

### リファクタリング系

#### `/refactor [ファイルパス]`
指定ファイルをリファクタリング

#### `/optimize [ファイルパス]`
パフォーマンス最適化

### デバッグ系

#### `/debug [エラーメッセージ]`
エラーの原因を分析

#### `/fix-lint`
リンティングエラーを修正

## カスタムコマンドの作成

### 1. コマンドファイルを作成

```bash
cd ~/workspace/claude_utilization/commands
touch my-command.md
```

### 2. コマンド内容を記述

```markdown
カスタムコマンドの実行内容をここに記述します。

パラメータが必要な場合は {1}, {2} などのプレースホルダーを使用できます。
```

### 3. プロジェクトに適用

```bash
cd /path/to/your/project
bash ~/workspace/claude_utilization/setup.sh
```

### 4. コマンドを使用

```plaintext
/my-command
```

## StudyMate用の推奨コマンド

### `/mvp-status`
```markdown
StudyMate MVPの開発状況を確認してください。

以下を含む包括的なステータスレポートを作成：

## 完了済み
- 完了したタスク一覧
- 成果物の確認

## 進行中
- 現在進行中のタスク
- ブロッカー

## 未着手
- 残りのタスク
- 優先順位

## リスク
- 特定されたリスク
- 対応状況

## 次のステップ
- 今後の作業
```

### `/design-review`
```markdown
StudyMateの設計ドキュメントをレビューしてください。

以下のドキュメントを確認：
- 技術スタック決定書
- システムアーキテクチャ
- データベーススキーマ
- API仕様
- ワイヤーフレーム

各ドキュメントについて：
- 完成度
- 整合性
- 不足している情報
- 改善提案
```

### `/validate-constraints`
```markdown
StudyMateの非機能要件を検証してください。

確認項目：
- [ ] 記録完了まで15秒以内
- [ ] アプリ起動3秒以内
- [ ] オフライン対応実装済み
- [ ] 60fpsのアニメーション
- [ ] クラウド同期実装済み

各項目について実装状況と改善点を報告してください。
```

### `/timer-test`
```markdown
タイマー機能の包括的なテストを実行してください。

テストケース：
1. 正確性（±1秒/時間）
2. バックグラウンド継続
3. アプリ切り替え時の動作
4. 電話着信時の動作
5. 端末再起動後の復元

各テストの実行結果と問題点を報告してください。
```

### `/estimate [機能名]`
```markdown
{1} 機能の実装工数を見積もってください。

以下の観点で分析：

## タスク分解
- 必要なタスクをリストアップ

## 工数見積もり
- 各タスクの所要時間

## 依存関係
- 他の機能との依存関係

## リスク
- 見積もりに影響するリスク

## 総合見積もり
- 最小工数
- 最大工数
- 最も可能性の高い工数
```

## ベストプラクティス

### コマンド設計

1. **単一目的**: 1つのコマンドは1つの明確な目的
2. **再利用可能**: 繰り返し使用する価値があるか
3. **パラメータ化**: 柔軟性が必要な部分はパラメータに
4. **明確な出力**: 期待する出力形式を明示

### 命名規則

- 短く覚えやすい名前
- 動詞で始める（review, test, deploy）
- ハイフンで区切る（kebab-case）
- プロジェクト固有の接頭辞（sm-review など）

### ドキュメント

各コマンドファイルの先頭にコメントで説明を追加：

```markdown
<!--
コマンド: /my-command [param1] [param2]
説明: このコマンドの目的と使い方
例: /my-command feature/login
-->

実際のプロンプト内容...
```

## Commands vs Agents vs Skills

| 項目 | Commands | Agents | Skills |
|------|----------|--------|--------|
| 用途 | 定型プロンプト | 役割ベースのタスク | ワークフロー実行 |
| 呼び出し | `/command` | Task tool | Skill tool |
| パラメータ | テキスト置換 | プロンプトで指定 | プロンプトで指定 |
| コンテキスト | 即座に展開 | 独立したセッション | 独立したセッション |
| 適用場面 | 短い指示 | 複雑な設計・実装 | 自動化タスク |

### 使い分けの例

**Command**:
```
/review-pr 123
→ PR#123をレビューするプロンプトが展開される
```

**Agent**:
```
Use the backend-dev agent to implement authentication
→ 認証システム全体を実装する（複数ファイル、長時間）
```

**Skill**:
```
Use the deploy-to-staging skill
→ ステージング環境への定型デプロイを実行
```

## 現在の状態

このディレクトリは現在空です。プロジェクトのニーズに応じてカスタムコマンドを追加できます。

## 参考リンク

- [../README.md](../README.md) - フレームワーク全体の説明
- [../agents/README.md](../agents/README.md) - Agentsとの比較
- [../skills/README.md](../skills/README.md) - Skillsとの比較
